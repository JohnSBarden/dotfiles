# move to bins
#alias mount-henry='sudo mount -t cifs -o user=guest,pass=guest //HENRY/public /mnt/henry'
#alias mount-perten='sudo mount -t cifs -o user=ddremote,pass=tomisawesome,file_mode=0777,dir_mode=0777       //10.128.20.38/Users /mnt/perten'

# Silenced macro
# Runs the command in the background, with absolutely zero output.
silenced() {
    "$@" &> /dev/null &;
}

function curlperf {
      curl  -s -w "%{time_connect} + %{time_starttransfer} = %{time_total}\n" "("
}

# easy browser sync
alias bs="browser-sync start --proxy 'localhost:4200' --files 'dist/*'"

function kuberun {
    [[ $# -lt 2 ]] && echo "Invalid number of arguments, [SERVICE_NAME] [IMAGE_NAME] [...COMMAND]"; return 1;

    SERVICE_NAME=$1
    IMAGE_NAME=$2
    shift 2;
    kubectl run $SERVICE_NAME --image=$IMAGE_NAME --restart=Never --quiet -i --rm -- "$@"
}

function gnew {
    git add . && git stash && git checkout master && git checkout -b $1 && git stash pop
}

function gcamp {
   git add . && \
   git commit -am "$1" && \
   git push
}

# new k get ns macro
alias kgns="k get ns"

# dont really use exa any more, but default its display a bit better:
alias exa="exa -l --git"

#vim becomes nvim, quick aliases from v to vim
alias v="nvim"
alias vim="v"
alias vi="v"

#neovim vimdiff
alias vimdiff='nvim -d'

#make sure nvm is our editor (probably not needed with aliasing up above)
export EDITOR=nvim

alias morning-routine="cli self-update && cli cp --all && cli auto-update && cli cp --curves" 

alias rspeed="rsync --info=progress2"

# TODO :: this is for work printer, need to setup proper system differentiate

alias sendprinter="lp -d HLL2315DW"

alias diffs-from-master="git --no-pager log --no-merges master.. "
alias diffs-from-master-count="diffs-from-master | grep commit | wc -l"


function ambassador-diagnostic {
   echo "Forwarding for: http://localhost:8877/ambassador/v0/diag/"
   k port-forward -n ambassador svc/ambassador-admin 8877 &
   chromium-browser http://localhost:8877/ambassador/v0/diag/
}
